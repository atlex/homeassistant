platform: template
sensors:
  reokids_motion:
    friendly_name: reoKids motion
    device_class: motion
    entity_id: camera.reokids2
    value_template: "{{ is_state('camera.reokids2', 'motion') }}"
    delay_off: 
        seconds: 30

switches:
  reokids_email:
    value_template: "{{ is_state_attr('camera.reokids2', 'email_enabled', true) }}"
    turn_on:
      service: camera.enable_email
      data:
        entity_id: camera.reokids2
    turn_off:
      service: camera.disable_email
      data:
        entity_id: camera.reokids2
    icon_template: >-
      {% if is_state_attr('camera.reokids2', 'email_enabled', true) %}
        mdi:email
      {% else %}
        mdi:email-outline
      {% endif %}
        
  reokids_ftp:
    value_template: "{{ is_state_attr('camera.reokids2', 'ftp_enabled', true) }}"
    turn_on:
      service: camera.enable_ftp
      data:
        entity_id: camera.reokids2
    turn_off:
      service: camera.disable_ftp
      data:
        entity_id: camera.reokids2
    icon_template: >-
      {% if is_state_attr('camera.reokids2', 'ftp_enabled', true) %}
        mdi:filmstrip
      {% else %}
        mdi:filmstrip-off
      {% endif %}
      
  reokids_ir_lights:
    value_template: "{{ is_state_attr('camera.reokids2', 'ir_lights_enabled', true) }}"
    turn_on:
      service: camera.enable_ir_lights
      data:
        entity_id: camera.reokids2
    turn_off:
      service: camera.disable_ir_lights
      data:
        entity_id: camera.reokids2
    icon_template: >-
      {% if is_state_attr('camera.reokids2', 'ir_lights_enabled', true) %}
        mdi:flashlight
      {% else %}
        mdi:flashlight-off
      {% endif %}
      